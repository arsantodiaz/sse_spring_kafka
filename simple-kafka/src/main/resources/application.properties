# ===================================================================
# SERVER PROPERTIES
# ===================================================================
server.port=8080
# Mengatur jumlah thread Tomcat. Defaultnya 200, yang seringkali terlalu banyak.
# 25 thread adalah awal yang baik untuk aplikasi I/O-bound.
server.tomcat.threads.max=25
# Mengatur jumlah thread minimum yang selalu aktif.
server.tomcat.threads.min-spare=5
# Mengaktifkan graceful shutdown, memberi waktu 30 detik untuk menyelesaikan request.
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s

# ===================================================================
# KAFKA PROPERTIES
# ===================================================================
spring.kafka.bootstrap-servers=${SPRING_KAFKA_BOOTSTRAP_SERVERS:localhost:9093}
spring.kafka.consumer.group-id=report-generator-group
spring.kafka.consumer.auto-offset-reset=earliest
# Mengatur berapa banyak pesan yang diambil konsumen dalam satu poll.
# Meningkatkan ini bisa meningkatkan throughput jika banyak pesan kecil.
spring.kafka.consumer.max-poll-records=50

# ===================================================================
# ASYNC TASK EXECUTION (UNTUK @Async)
# ===================================================================
# Membuat thread pool khusus untuk tugas @Async agar tidak mengganggu thread web.
# Jumlah thread yang selalu aktif untuk tugas async.
spring.task.execution.pool.core-size=2
# Jumlah maksimum thread jika antrian penuh.
spring.task.execution.pool.max-size=5
# Jumlah tugas yang bisa mengantri sebelum thread baru dibuat.
spring.task.execution.pool.queue-capacity=10
spring.task.execution.thread-name-prefix=report-generator-

# ===================================================================
# APPLICATION & UI PROPERTIES
# ===================================================================
# Versi aplikasi dari pom.xml
app.version=@project.version@
# Direktori output laporan
report.output.dir=${REPORT_OUTPUT_DIR:/tmp/reports}
# Format JSON agar mudah dibaca
spring.jackson.serialization.indent_output=true
# Menonaktifkan cache Thymeleaf untuk pengembangan
spring.thymeleaf.cache=false
