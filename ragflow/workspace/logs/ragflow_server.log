2025-11-21 15:27:16,466 INFO     21 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2025-11-21 15:27:34,110 INFO     21 init database on cluster mode successfully
2025-11-21 15:27:57,860 WARNING  21 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: c72dcc861d12d7c0fedf86d8aeff0219da6e423777fc28804e2b9aa93cb10842
2025-11-21 15:27:57,907 INFO     21 Use Elasticsearch http://es01:9200 as the doc engine.
2025-11-21 15:27:57,946 INFO     21 GET http://es01:9200/ [status:200 duration:0.025s]
2025-11-21 15:27:57,961 INFO     21 HEAD http://es01:9200/ [status:200 duration:0.009s]
2025-11-21 15:27:57,989 INFO     21 Elasticsearch http://es01:9200 is healthy.
2025-11-21 15:27:57,998 WARNING  21 Load term.freq FAIL!
2025-11-21 15:27:58,020 WARNING  21 Realtime synonym is disabled, since no redis connection.
2025-11-21 15:28:00,051 WARNING  21 Load term.freq FAIL!
2025-11-21 15:28:00,095 WARNING  21 Realtime synonym is disabled, since no redis connection.
2025-11-21 15:28:04,854 INFO     21 load_model /ragflow/rag/res/deepdoc/det.onnx uses CPU
2025-11-21 15:28:05,065 INFO     21 load_model /ragflow/rag/res/deepdoc/rec.onnx uses CPU
2025-11-21 15:28:29,655 WARNING  21 Matplotlib is building the font cache; this may take a moment.
2025-11-21 15:28:31,622 INFO     21 generated new fontManager
2025-11-21 15:28:58,377 INFO     21 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2025-11-21 15:28:58,379 INFO     21 RAGFlow version: v0.22.1
2025-11-21 15:28:58,380 INFO     21 project base: /ragflow
2025-11-21 15:28:58,381 INFO     21 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000'}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	redis: {'db': 1, 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://:80'}}}
2025-11-21 15:28:58,384 WARNING  21 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: bea0b9287f99979a3ea8f695fc637543be78b91532abda5fab87ab44ebf777f8
2025-11-21 15:28:58,391 WARNING  21 Load term.freq FAIL!
2025-11-21 15:28:58,401 WARNING  21 Realtime synonym is disabled, since no redis connection.
2025-11-21 15:28:58,410 WARNING  21 Load term.freq FAIL!
2025-11-21 15:28:58,420 WARNING  21 Realtime synonym is disabled, since no redis connection.
2025-11-21 15:28:58,422 INFO     21 MAX_CONTENT_LENGTH: 134217728
2025-11-21 15:28:58,424 INFO     21 MAX_FILE_COUNT_PER_USER: 0
2025-11-21 15:29:38,793 INFO     21 init web data success:15.21665906906128
2025-11-21 15:29:38,797 INFO     21 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2025-11-21 15:29:38,802 INFO     21 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2025-11-21 15:29:38,803 INFO     21 RAGFlow HTTP server start...
2025-11-21 15:29:39,069 INFO     21 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2025-11-21 15:29:39,803 INFO     21 Starting update_progress thread (delayed)
2025-11-21 15:29:39,806 INFO     21 update_progress lock_value: c28fafae-b32a-4bfd-b53e-e7942d409227
2025-11-21 08:58:38,713 INFO     21 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2025-11-21 08:58:53,016 INFO     21 init database on cluster mode successfully
2025-11-21 08:59:08,854 WARNING  21 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: aa5b2b74871ad391299a1daed2f5a5f288300372e55d8663b30130bcedb0758d
2025-11-21 08:59:08,856 INFO     21 Use Elasticsearch http://es01:9200 as the doc engine.
2025-11-21 08:59:12,861 INFO     21 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 08:59:12,862 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-11-21 08:59:12,864 WARNING  21 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a0bcc40>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:16,882 INFO     21 GET http://es01:9200/ [status:N/A duration:4.016s]
2025-11-21 08:59:16,889 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-11-21 08:59:16,892 WARNING  21 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a0bc640>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:16,894 INFO     21 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 08:59:20,899 INFO     21 GET http://es01:9200/ [status:N/A duration:4.003s]
2025-11-21 08:59:20,901 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-11-21 08:59:20,903 WARNING  21 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a0bec50>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:20,904 INFO     21 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 08:59:24,909 INFO     21 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 08:59:24,911 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-11-21 08:59:24,911 WARNING  21 Connection error caused by: ConnectionError(Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a0bcc40>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-11-21 08:59:33,918 INFO     21 GET http://es01:9200/ [status:N/A duration:3.999s]
2025-11-21 08:59:33,919 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-11-21 08:59:33,921 WARNING  21 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a28ad10>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:37,925 INFO     21 GET http://es01:9200/ [status:N/A duration:4.003s]
2025-11-21 08:59:37,932 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-11-21 08:59:37,936 WARNING  21 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a289000>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:37,939 INFO     21 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 08:59:41,949 INFO     21 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 08:59:41,950 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-11-21 08:59:41,952 WARNING  21 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a288490>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:41,954 INFO     21 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 08:59:45,957 INFO     21 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 08:59:45,958 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-11-21 08:59:45,959 WARNING  21 Connection error caused by: ConnectionError(Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a28ad10>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-11-21 08:59:50,964 INFO     21 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 08:59:54,968 INFO     21 HEAD http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 08:59:57,346 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 5 times in a row, putting on 16 second timeout
2025-11-21 08:59:57,464 WARNING  21 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a0bdf60>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 08:59:57,500 INFO     21 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 09:00:01,539 INFO     21 HEAD http://es01:9200/ [status:N/A duration:4.003s]
2025-11-21 09:00:01,541 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 6 times in a row, putting on 30 second timeout
2025-11-21 09:00:01,542 WARNING  21 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a28ad70>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 09:00:05,543 INFO     21 HEAD http://es01:9200/ [status:N/A duration:3.999s]
2025-11-21 09:00:05,545 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 7 times in a row, putting on 30 second timeout
2025-11-21 09:00:05,547 WARNING  21 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7c544a289d50>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 09:00:09,552 INFO     21 HEAD http://es01:9200/ [status:N/A duration:4.003s]
2025-11-21 09:00:09,554 WARNING  21 Node <Urllib3HttpNode(http://es01:9200)> has failed for 8 times in a row, putting on 30 second timeout
2025-11-21 09:00:09,555 ERROR    21 Elasticsearch http://es01:9200 is unhealthy in 120s.
2025-11-21 09:00:13,220 INFO     93 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2025-11-21 09:00:25,763 INFO     93 init database on cluster mode successfully
2025-11-21 09:00:35,302 WARNING  93 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: 3d5df0602889e507b66b430babdd2c4122e23f8d78c7a60d7c135a8784cf8fa3
2025-11-21 09:00:35,303 INFO     93 Use Elasticsearch http://es01:9200 as the doc engine.
2025-11-21 09:00:39,309 INFO     93 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 09:00:39,313 WARNING  93 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-11-21 09:00:39,315 WARNING  93 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x733051a96170>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 09:00:43,321 INFO     93 GET http://es01:9200/ [status:N/A duration:4.003s]
2025-11-21 09:00:43,323 WARNING  93 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-11-21 09:00:43,324 WARNING  93 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x733051a97bb0>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 09:00:43,325 INFO     93 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 09:00:47,328 INFO     93 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 09:00:47,330 WARNING  93 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-11-21 09:00:47,331 WARNING  93 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x733051a96860>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
2025-11-21 09:00:47,333 INFO     93 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-11-21 09:00:51,338 INFO     93 GET http://es01:9200/ [status:N/A duration:4.003s]
2025-11-21 09:00:51,342 WARNING  93 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-11-21 09:00:51,349 WARNING  93 Connection error caused by: ConnectionError(Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x733051a96170>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-11-21 09:01:00,371 INFO     93 GET http://es01:9200/ [status:N/A duration:4.002s]
2025-11-21 09:01:00,373 WARNING  93 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-11-21 09:01:00,376 WARNING  93 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragflow/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x733051856ce0>: Failed to resolve 'es01' ([Errno -5] No address associated with hostname))
